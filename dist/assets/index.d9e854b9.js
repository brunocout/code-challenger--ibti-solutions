import{j as L,u as M,r as l,R as A,a as $,B as I,b as B,c as q}from"./vendor.37ae456d.js";const Z=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))p(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&p(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function p(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}};Z();const e=L.exports.jsx,i=L.exports.jsxs,j=({title:c,href:t})=>{const s=M();return e("header",{className:"header",children:e("button",{onClick:()=>{s(t)},children:c})})};const F=({color:c})=>i("div",{className:"pokeball-vector",children:[e("svg",{width:"70",height:"32",viewBox:"0 0 70 32",xmlns:"http://www.w3.org/2000/svg",children:e("path",{d:"M12.2112 31.6494C9.3279 31.6494 6.44461 31.6494 3.56131 31.6494C0.709116 31.6494 0.629148 31.6317 1.18892 28.8594C4.01447 14.8917 12.1668 5.44653 25.8236 1.38593C45.8511 -4.5717 66.6651 9.36053 69.3129 30.0989C69.4551 31.214 69.3262 31.6894 68.0378 31.6761C61.978 31.6183 55.9138 31.6272 49.8495 31.6716C48.7566 31.6805 48.3923 31.254 48.0147 30.2678C45.9178 24.7766 41.3685 21.5646 35.8907 21.5557C30.2884 21.5468 25.868 24.7011 23.6689 30.4055C23.2779 31.4184 22.7714 31.6983 21.7452 31.6761C18.5687 31.6094 15.3877 31.6494 12.2112 31.6494Z",fill:"white",className:c})}),e("svg",{width:"70",height:"32",viewBox:"0 0 70 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e("path",{d:"M12.1445 0.327123C15.25 0.327123 18.3554 0.389321 21.4564 0.296025C22.6692 0.260483 23.2335 0.615898 23.6777 1.78876C25.748 7.23993 30.3373 10.4298 35.8418 10.4076C41.3285 10.3853 46.0466 7.11109 48.0103 1.75322C48.4234 0.624786 48.9032 0.296027 50.0317 0.304912C55.9449 0.353781 61.8581 0.367108 67.7668 0.296025C69.1752 0.278254 69.5084 0.620342 69.2907 2.05088C66.705 19.2174 52.7195 31.608 35.4952 31.9234C18.8663 32.2255 4.39653 20.1814 1.2289 3.39701C0.651352 0.327125 0.651352 0.327123 3.72124 0.327123C6.52457 0.322681 9.33678 0.327123 12.1445 0.327123Z",fill:"white"})})]}),T=({pokemonid:c,addPokemonToRemove:t})=>{const[s,p]=l.exports.useState([]);return l.exports.useEffect(()=>{c!=null&&fetch(`https://pokeapi.co/api/v2/pokemon/${c}`).then(o=>o.json()).then(o=>{p({sprite:o.sprites.front_default,color:o.types[0].type.name})})},[c]),i("div",{className:"pokeball",onClick:typeof t=="function"?o=>{const a=o.target.closest(".pokeball");c.length!=0&&c!=null&&t(c,a,p)}:null,children:[e(F,{color:s==null?void 0:s.color}),e("img",{className:"pokemon-img",src:s==null?void 0:s.sprite})]})},g=l.exports.createContext();function G({children:c}){const[t,s]=l.exports.useState(""),[p,r]=l.exports.useState(),[o,a]=l.exports.useState([]),[m,k]=l.exports.useState(new Array(6).fill(null)),[f,w]=l.exports.useState(""),[x,O]=l.exports.useState(""),v=document.querySelectorAll(".pokeball");l.exports.useEffect(()=>{fetch("https://pokeapi.co/api/v2/pokemon").then(n=>n.json()).then(n=>{a(n.results)})},[]),l.exports.useEffect(()=>{const n=new IntersectionObserver(h=>{h.some(u=>u.isIntersecting)&&(console.log("Observed"),C())});return n.observe(document.querySelector(".sentinel")),()=>n.disconnect()},[o]);const C=()=>{fetch(`https://pokeapi.co/api/v2/pokemon?offset=${o.length}&limit=20`).then(n=>n.json()).then(n=>{a([...o,...n.results])})},P=n=>{const h=[...m];for(let u=0;u<h.length;u+=1)if(!h[u]){h[u]=n,k(h),r("");break}},d=(n,h,u)=>{s(n),O({setPokemonDet:u}),console.log(x);for(let S=0;S<v.length;S++)v[S].classList.add("isGray");h.classList.remove("isGray")};l.exports.useEffect(()=>{for(let n=0;n<v.length;n++)t.length==0&&v[n].classList.remove("isGray")},[t]);const y=()=>{t.length!=0&&m!==null&&(k(m.map(n=>(n==null?void 0:n.id)===t?null+r(n.id):n)),s(""),x.setPokemonDet(""))},b=()=>{f.length!=0&&(N(),location.reload())},N=()=>{fetch("https://code-challenge--ibti-solutions.herokuapp.com/teams",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pokemonid:m.map(n=>n.id),owner:f})}).then(n=>n.json()).then(n=>{console.log(n)})},E={pokemons:o,setPokemons:a,pokemonSlot:m,setSlot:P,removedPokemon:t,addPokemonToRemove:d,removeFromSlot:y,removedId:p,createTeam:b,owner:f,setOwner:w};return e(g.Provider,{value:E,children:c})}const _=()=>e("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e("path",{d:"M0 7.91696V10H2.08304L8.22664 3.85641L6.14359 1.77337L0 7.91696ZM9.83752 2.24552C10.0542 2.02889 10.0542 1.67893 9.83752 1.4623L8.5377 0.162477C8.32107 -0.0541591 7.97112 -0.0541591 7.75448 0.162477L6.73795 1.179L8.821 3.26205L9.83752 2.24552Z",fill:"#333652"})});const H=({className:c=""})=>{const{pokemonSlot:t,addPokemonToRemove:s,owner:p,setOwner:r}=l.exports.useContext(g),o=a=>{/[@#$%¨*()&=+^~?/|:;><,!§+``´´"".-]/.test(a.target.value)?a.target.value="":r(a.target.value)};return i("div",{className:`teams ${c}`,children:[i("div",{className:"team-input",children:[e("input",{type:"text",placeholder:"My Team",onChange:o,value:p,maxLength:20}),e(_,{})]}),e("div",{className:"pokeball-container",children:t.map(a=>e(T,{pokemonid:a==null?void 0:a.id,addPokemonToRemove:s}))})]})};var R="/code-challenger--ibti-solutions/assets/cbutton.0c57e0bd.svg";const U=({items:c,count:t,setCount:s})=>{const{setSlot:p,removedId:r}=l.exports.useContext(g),[o,a]=l.exports.useState([]),[m,k]=l.exports.useState([]),[f,w]=l.exports.useState({id:"",color:"",sprite:""}),[x,O]=l.exports.useState({type1:"",type2:""}),[v,C]=l.exports.useState(!1),P=()=>{p(f),t<6&&(C(!0),s(t+1))};return l.exports.useEffect(()=>{fetch(`${c.url}`).then(d=>d.json()).then(d=>{var y,b,N;a(d.sprites.front_default),O({type1:(y=d.types[0])==null?void 0:y.type.name,type2:(b=d.types[1])==null?void 0:b.type.name}),w({id:d.id,color:(N=d.types[0])==null?void 0:N.type.name,sprite:d.sprites.front_default}),k(d.name[0].toUpperCase()+d.name.slice(1))})},[]),l.exports.useEffect(()=>{r===f.id&&t>0&&(C(!1),s(t-1))},[r]),i("div",{className:"pokemon",onClick:P,children:[i("div",{className:"pokemon-id",children:["#",f.id]}),i("div",{className:"pokemon-sprite",children:[v&&e("img",{src:R,className:"selected"}),e("img",{src:o})]}),i("div",{className:"pokemon-info",children:[e("h1",{children:m}),i("div",{className:"pokemon-types",children:[e("span",{className:`type1 ${x.type1}`}),e("span",{className:`type2 ${x.type2}`})]})]})]})};const V=()=>{const{pokemons:c}=l.exports.useContext(g),[t,s]=l.exports.useState(0);return i("div",{className:"pokedex-container",children:[e("h1",{children:"Choose 6 pok\xE9mons:"}),i("div",{className:"pokemons",children:[c.map(p=>e(U,{items:p,setCount:s,count:t})),e("span",{className:"sentinel"})]})]})};var J="/code-challenger--ibti-solutions/assets/dbutton.babf810a.svg";const K=()=>{var o;const{removeFromSlot:c,removedPokemon:t,createTeam:s,pokemonSlot:p}=l.exports.useContext(g),r={opacity:.3};return i("div",{className:"create-container",children:[e(j,{title:"teams",href:"/"}),i("div",{className:"main-create",children:[e(H,{}),i("div",{className:"button-container",children:[e("button",{style:t.length==0?r:null,onClick:c,children:e("img",{src:J,width:50})}),e("button",{style:((o=p.slice(5)[0])==null?void 0:o.id)===void 0?r:null,onClick:s,children:e("img",{src:R,width:50})})]}),e(V,{})]})]})};const z=({className:c="",data:t})=>i("div",{className:`teams ${c}`,children:[i("h1",{children:[t.owner,"'s Team"]}),e("div",{className:"pokeball-container",children:t.pokemonid.map(s=>e(T,{pokemonid:s}))})]});const D=()=>{const[c,t]=l.exports.useState([]);return l.exports.useEffect(()=>{fetch("https://code-challenge--ibti-solutions.herokuapp.com/teams").then(s=>s.json()).then(s=>{t(s)})},[]),i("div",{className:"team-container",children:[e(j,{title:"create new team",href:"/create"}),e("div",{className:"main-team",children:c.map(s=>e(z,{className:"bar",data:s}))})]})},Q=()=>i(A,{children:[e($,{path:"/",element:e(D,{})}),e($,{path:"/create",element:e(K,{})})]});function W(){return e("div",{className:"App",children:e(G,{children:e(I,{children:e(Q,{})})})})}B.render(e(q.StrictMode,{children:e(W,{})}),document.getElementById("root"));

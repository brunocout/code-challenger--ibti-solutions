import{j,u as A,r as n,R as I,a as L,B,b as q,c as Z}from"./vendor.37ae456d.js";const F=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerpolicy&&(c.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?c.credentials="include":s.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(s){if(s.ep)return;s.ep=!0;const c=r(s);fetch(s.href,c)}};F();const e=j.exports.jsx,d=j.exports.jsxs,E=({title:l,href:t})=>{const r=A();return e("header",{className:"header",children:e("button",{onClick:()=>{r(t)},children:l})})};const G=({color:l})=>d("div",{className:"pokeball-vector",children:[e("svg",{width:"70",height:"32",viewBox:"0 0 70 32",xmlns:"http://www.w3.org/2000/svg",children:e("path",{d:"M12.2112 31.6494C9.3279 31.6494 6.44461 31.6494 3.56131 31.6494C0.709116 31.6494 0.629148 31.6317 1.18892 28.8594C4.01447 14.8917 12.1668 5.44653 25.8236 1.38593C45.8511 -4.5717 66.6651 9.36053 69.3129 30.0989C69.4551 31.214 69.3262 31.6894 68.0378 31.6761C61.978 31.6183 55.9138 31.6272 49.8495 31.6716C48.7566 31.6805 48.3923 31.254 48.0147 30.2678C45.9178 24.7766 41.3685 21.5646 35.8907 21.5557C30.2884 21.5468 25.868 24.7011 23.6689 30.4055C23.2779 31.4184 22.7714 31.6983 21.7452 31.6761C18.5687 31.6094 15.3877 31.6494 12.2112 31.6494Z",fill:"white",className:l})}),e("svg",{width:"70",height:"32",viewBox:"0 0 70 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e("path",{d:"M12.1445 0.327123C15.25 0.327123 18.3554 0.389321 21.4564 0.296025C22.6692 0.260483 23.2335 0.615898 23.6777 1.78876C25.748 7.23993 30.3373 10.4298 35.8418 10.4076C41.3285 10.3853 46.0466 7.11109 48.0103 1.75322C48.4234 0.624786 48.9032 0.296027 50.0317 0.304912C55.9449 0.353781 61.8581 0.367108 67.7668 0.296025C69.1752 0.278254 69.5084 0.620342 69.2907 2.05088C66.705 19.2174 52.7195 31.608 35.4952 31.9234C18.8663 32.2255 4.39653 20.1814 1.2289 3.39701C0.651352 0.327125 0.651352 0.327123 3.72124 0.327123C6.52457 0.322681 9.33678 0.327123 12.1445 0.327123Z",fill:"white"})})]}),R=({pokemonid:l,addPokemonToRemove:t,reload:r})=>{const[a,s]=n.exports.useState([]);return n.exports.useEffect(()=>{l!=null&&fetch(`https://pokeapi.co/api/v2/pokemon/${l}`).then(i=>i.json()).then(i=>{s({sprite:i.sprites.front_default,color:i.types[0].type.name})})},[l]),n.exports.useEffect(()=>{s("")},[r]),d("div",{className:"pokeball",onClick:typeof t=="function"?i=>{const p=i.target.closest(".pokeball");l.length!=0&&l!=null&&t(l,p,s)}:null,children:[e(G,{color:a==null?void 0:a.color}),e("img",{className:"pokemon-img",src:a==null?void 0:a.sprite})]})},y=n.exports.createContext();function _({children:l}){const[t,r]=n.exports.useState(""),[a,s]=n.exports.useState(),[c,i]=n.exports.useState([]),[p,u]=n.exports.useState(new Array(6).fill(null)),[h,f]=n.exports.useState(""),[C,x]=n.exports.useState(""),[b,N]=n.exports.useState(!1),v=document.querySelectorAll(".pokeball");n.exports.useEffect(()=>{fetch("https://pokeapi.co/api/v2/pokemon").then(o=>o.json()).then(o=>{i(o.results)})},[]);const O=o=>{const g=[...p];for(let k=0;k<g.length;k+=1)if(!g[k]){g[k]=o,u(g),s("");break}},m=(o,g,k)=>{r(o),x({setPokemonDet:k});for(let $=0;$<v.length;$++)v[$].classList.add("isGray");g.classList.remove("isGray")};n.exports.useEffect(()=>{for(let o=0;o<v.length;o++)t.length==0&&v[o].classList.remove("isGray")},[t]);const S=()=>{t.length!=0&&p!==null&&(u(p.map(o=>(o==null?void 0:o.id)===t?null+s(o.id):o)),r(""),C.setPokemonDet(""))},w=()=>{h.length!=0&&(P(),N(!b),u(p.map(o=>(o==null?void 0:o.id)===t?s(o.id):o)),f(""),u(new Array(6).fill(null)))},P=()=>{fetch("https://code-challenge--ibti-solutions.herokuapp.com/teams",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pokemonid:p.map(o=>o.id),owner:h})}).then(o=>o.json()).then(o=>{console.log(o)})},M={pokemons:c,setPokemons:i,pokemonSlot:p,setSlot:O,removedPokemon:t,addPokemonToRemove:m,removeFromSlot:S,removedId:a,createTeam:w,owner:h,setOwner:f,reload:b};return e(y.Provider,{value:M,children:l})}const H=()=>e("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e("path",{d:"M0 7.91696V10H2.08304L8.22664 3.85641L6.14359 1.77337L0 7.91696ZM9.83752 2.24552C10.0542 2.02889 10.0542 1.67893 9.83752 1.4623L8.5377 0.162477C8.32107 -0.0541591 7.97112 -0.0541591 7.75448 0.162477L6.73795 1.179L8.821 3.26205L9.83752 2.24552Z",fill:"#333652"})});const U=({className:l=""})=>{const{pokemonSlot:t,addPokemonToRemove:r,owner:a,setOwner:s,reload:c}=n.exports.useContext(y),i=p=>{/[@#$%¨*()&=+^~?/|:;><,!§+``´´"".-]/.test(p.target.value)?p.target.value="":s(p.target.value)};return d("div",{className:`teams ${l}`,children:[d("div",{className:"team-input",children:[e("input",{type:"text",placeholder:"My Team",onChange:i,value:a,maxLength:20}),e(H,{})]}),e("div",{className:"pokeball-container",children:t.map(p=>e(R,{pokemonid:p==null?void 0:p.id,addPokemonToRemove:r,reload:c}))})]})};var T="/code-challenger--ibti-solutions/assets/cbutton.0c57e0bd.svg";const V=({items:l,count:t,setCount:r})=>{const{setSlot:a,removedId:s,reload:c}=n.exports.useContext(y),[i,p]=n.exports.useState([]),[u,h]=n.exports.useState([]),[f,C]=n.exports.useState({id:"",color:"",sprite:""}),[x,b]=n.exports.useState({type1:"",type2:""}),[N,v]=n.exports.useState(!1),O=()=>{a(f),t<6&&(v(!0),r(t+1))};return n.exports.useEffect(()=>{fetch(`${l.url}`).then(m=>m.json()).then(m=>{var S,w,P;p(m.sprites.front_default),b({type1:(S=m.types[0])==null?void 0:S.type.name,type2:(w=m.types[1])==null?void 0:w.type.name}),C({id:m.id,color:(P=m.types[0])==null?void 0:P.type.name,sprite:m.sprites.front_default}),h(m.name[0].toUpperCase()+m.name.slice(1))})},[]),n.exports.useEffect(()=>{s===f.id&&t>0&&(v(!1),r(t-1))},[s]),n.exports.useEffect(()=>{v(!1),r(t-t)},[c]),d("div",{className:"pokemon",onClick:O,children:[d("div",{className:"pokemon-id",children:["#",f.id]}),d("div",{className:"pokemon-sprite",children:[N&&e("img",{src:T,className:"selected"}),e("img",{src:i})]}),d("div",{className:"pokemon-info",children:[e("h1",{children:u}),d("div",{className:"pokemon-types",children:[e("span",{className:`type1 ${x.type1}`}),e("span",{className:`type2 ${x.type2}`})]})]})]})};const J=()=>{const{pokemons:l}=n.exports.useContext(y),[t,r]=n.exports.useState(0);return d("div",{className:"pokedex-container",children:[e("h1",{children:"Choose 6 pok\xE9mons:"}),d("div",{className:"pokemons",children:[l.map(a=>e(V,{items:a,setCount:r,count:t})),e("span",{className:"sentinel"})]})]})};var K="/code-challenger--ibti-solutions/assets/dbutton.babf810a.svg";const z=()=>{var u;const{removeFromSlot:l,removedPokemon:t,createTeam:r,pokemonSlot:a,pokemons:s,setPokemons:c}=n.exports.useContext(y),i={opacity:.3};n.exports.useEffect(()=>{const h=document.querySelector(".sentinel"),f=new IntersectionObserver(C=>{C.some(x=>x.isIntersecting)&&p()});return f.observe(h),()=>f.disconnect()},[s]);const p=()=>{fetch(`https://pokeapi.co/api/v2/pokemon?offset=${s.length}&limit=20`).then(h=>h.json()).then(h=>{c([...s,...h.results])})};return d("div",{className:"create-container",children:[e(E,{title:"teams",href:"/code-challenger--ibti-solutions/"}),d("div",{className:"main-create",children:[e(U,{}),d("div",{className:"button-container",children:[e("button",{style:t.length==0?i:null,onClick:l,children:e("img",{src:K,width:50})}),e("button",{style:((u=a.slice(5)[0])==null?void 0:u.id)===void 0?i:null,onClick:r,children:e("img",{src:T,width:50})})]}),e(J,{})]})]})};const D=({className:l="",data:t})=>d("div",{className:`teams ${l}`,children:[d("h1",{children:[t.owner,"'s Team"]}),e("div",{className:"pokeball-container",children:t.pokemonid.map(r=>e(R,{pokemonid:r}))})]});const Q=()=>{const[l,t]=n.exports.useState([]);return n.exports.useEffect(()=>{fetch("https://code-challenge--ibti-solutions.herokuapp.com/teams").then(r=>r.json()).then(r=>{t(r)})},[]),d("div",{className:"team-container",children:[e(E,{title:"create new team",href:"/code-challenger--ibti-solutions/create"}),e("div",{className:"main-team",children:l.map(r=>e(D,{className:"bar",data:r}))})]})},W=()=>d(I,{children:[e(L,{path:"/code-challenger--ibti-solutions/",element:e(Q,{})}),e(L,{path:"/code-challenger--ibti-solutions/create",element:e(z,{})})]});function X(){return e("div",{className:"App",children:e(_,{children:e(B,{children:e(W,{})})})})}q.render(e(Z.StrictMode,{children:e(X,{})}),document.getElementById("root"));

import{j as E,u as A,r as s,R as V,a as T,B as I,b as B,c as q}from"./vendor.37ae456d.js";const Z=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const p of i.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function l(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(o){if(o.ep)return;o.ep=!0;const i=l(o);fetch(o.href,i)}};Z();const e=E.exports.jsx,m=E.exports.jsxs,j=({title:r,href:t})=>{const l=A();return e("header",{className:"header",children:e("button",{onClick:()=>{l(t)},children:r})})};const F=({color:r})=>m("div",{className:"pokeball-vector",children:[e("svg",{width:"70",height:"32",viewBox:"0 0 70 32",xmlns:"http://www.w3.org/2000/svg",children:e("path",{d:"M12.2112 31.6494C9.3279 31.6494 6.44461 31.6494 3.56131 31.6494C0.709116 31.6494 0.629148 31.6317 1.18892 28.8594C4.01447 14.8917 12.1668 5.44653 25.8236 1.38593C45.8511 -4.5717 66.6651 9.36053 69.3129 30.0989C69.4551 31.214 69.3262 31.6894 68.0378 31.6761C61.978 31.6183 55.9138 31.6272 49.8495 31.6716C48.7566 31.6805 48.3923 31.254 48.0147 30.2678C45.9178 24.7766 41.3685 21.5646 35.8907 21.5557C30.2884 21.5468 25.868 24.7011 23.6689 30.4055C23.2779 31.4184 22.7714 31.6983 21.7452 31.6761C18.5687 31.6094 15.3877 31.6494 12.2112 31.6494Z",fill:"white",className:r})}),e("svg",{width:"70",height:"32",viewBox:"0 0 70 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e("path",{d:"M12.1445 0.327123C15.25 0.327123 18.3554 0.389321 21.4564 0.296025C22.6692 0.260483 23.2335 0.615898 23.6777 1.78876C25.748 7.23993 30.3373 10.4298 35.8418 10.4076C41.3285 10.3853 46.0466 7.11109 48.0103 1.75322C48.4234 0.624786 48.9032 0.296027 50.0317 0.304912C55.9449 0.353781 61.8581 0.367108 67.7668 0.296025C69.1752 0.278254 69.5084 0.620342 69.2907 2.05088C66.705 19.2174 52.7195 31.608 35.4952 31.9234C18.8663 32.2255 4.39653 20.1814 1.2289 3.39701C0.651352 0.327125 0.651352 0.327123 3.72124 0.327123C6.52457 0.322681 9.33678 0.327123 12.1445 0.327123Z",fill:"white"})})]}),M=({pokemonid:r,addPokemonToRemove:t,reload:l})=>{const[a,o]=s.exports.useState([]);s.exports.useEffect(()=>{r!=null&&fetch(`https://pokeapi.co/api/v2/pokemon/${r}`).then(p=>p.json()).then(p=>{o({sprite:p.sprites.front_default,color:p.types[0].type.name})})},[r]);const i=p=>{const c=p.target.closest(".pokeball");r.length!=0&&r!=null&&t(r,c,o)};return s.exports.useEffect(()=>{o("")},[l]),m("div",{className:"pokeball",onClick:typeof t=="function"?i:null,children:[e(F,{color:a==null?void 0:a.color}),e("img",{className:"pokemon-img",src:a==null?void 0:a.sprite})]})},N=s.exports.createContext();function G({children:r}){const[t,l]=s.exports.useState(""),[a,o]=s.exports.useState(),[i,p]=s.exports.useState([]),[c,h]=s.exports.useState(new Array(6).fill(null)),[f,v]=s.exports.useState(""),[x,w]=s.exports.useState(""),[k,y]=s.exports.useState(!1),d=document.querySelectorAll(".pokeball");s.exports.useEffect(()=>{fetch("https://pokeapi.co/api/v2/pokemon").then(n=>n.json()).then(n=>{p(n.results)})},[]);const g=n=>{const C=[...c];for(let b=0;b<C.length;b+=1)if(!C[b]){C[b]=n,h(C),o("");break}},S=(n,C,b)=>{l(n),w({setPokemonDet:b});for(let L=0;L<d.length;L++)d[L].classList.add("isGray");C.classList.remove("isGray")};s.exports.useEffect(()=>{for(let n=0;n<d.length;n++)t.length==0&&d[n].classList.remove("isGray")},[t]);const u=()=>{t.length!=0&&c!==null&&(h(c.map(n=>(n==null?void 0:n.id)===t?null+o(n.id):n)),l(""),x.setPokemonDet(""))},$=()=>{O(),y(!k),h(c.map(n=>(n==null?void 0:n.id)===t?o(n.id):n)),v(""),h(new Array(6).fill(null))},O=()=>{fetch("https://code-challenge--ibti-solutions.herokuapp.com/teams",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pokemonid:c.map(n=>n.id),owner:f})}).then(n=>n.json()).then(n=>{console.log(n)})},P={pokemons:i,setPokemons:p,pokemonSlot:c,setSlot:g,removedPokemon:t,addPokemonToRemove:S,removeFromSlot:u,removedId:a,createTeam:$,owner:f,setOwner:v,reload:k};return e(N.Provider,{value:P,children:r})}const _=()=>e("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e("path",{d:"M0 7.91696V10H2.08304L8.22664 3.85641L6.14359 1.77337L0 7.91696ZM9.83752 2.24552C10.0542 2.02889 10.0542 1.67893 9.83752 1.4623L8.5377 0.162477C8.32107 -0.0541591 7.97112 -0.0541591 7.75448 0.162477L6.73795 1.179L8.821 3.26205L9.83752 2.24552Z",fill:"#333652"})});const H=({className:r=""})=>{const{pokemonSlot:t,addPokemonToRemove:l,owner:a,setOwner:o,reload:i}=s.exports.useContext(N),p=c=>{/[@#$%¨*()&=+^~?/|:;><,!§+``´´"".-]/.test(c.target.value)?c.target.value="":o(c.target.value)};return m("div",{className:`teams ${r}`,children:[m("div",{className:"team-input",children:[e("input",{type:"text",placeholder:"My Team",onChange:p,value:a,maxLength:20}),e(_,{})]}),e("div",{className:"pokeball-container",children:t.map(c=>e(M,{pokemonid:c==null?void 0:c.id,addPokemonToRemove:l,reload:i}))})]})};var R="/code-challenger--ibti-solutions/assets/cbutton.0c57e0bd.svg";const U=({items:r,count:t,setCount:l,id:a})=>{const{setSlot:o,removedId:i,reload:p}=s.exports.useContext(N),[c,h]=s.exports.useState([]),[f,v]=s.exports.useState([]),[x,w]=s.exports.useState({id:"",color:"",sprite:""}),[k,y]=s.exports.useState({type1:"",type2:""}),[d,g]=s.exports.useState(!1),S=()=>{o(x),t<6&&(g(!0),l(t+1))};return s.exports.useEffect(()=>{fetch(`${r.url}`).then(u=>u.json()).then(u=>{var $,O,P;h(u.sprites.front_default),y({type1:($=u.types[0])==null?void 0:$.type.name,type2:(O=u.types[1])==null?void 0:O.type.name}),w({id:u.id,color:(P=u.types[0])==null?void 0:P.type.name,sprite:u.sprites.front_default}),v(u.name[0].toUpperCase()+u.name.slice(1))})},[]),s.exports.useEffect(()=>{i===x.id&&t>0&&(g(!1),l(t-1))},[i]),s.exports.useEffect(()=>{g(!1),l(t-t)},[p]),m("div",{className:"pokemon",onClick:S,children:[e("div",{className:"pokemon-id",children:m("p",{children:["#",a]})}),m("div",{className:"pokemon-sprite",children:[d&&e("img",{src:R,className:"selected"}),e("img",{src:c})]}),m("div",{className:"pokemon-info",children:[e("h1",{children:f}),m("div",{className:"pokemon-types",children:[e("span",{className:`type1 ${k.type1}`}),e("span",{className:`type2 ${k.type2}`})]})]})]})};const J=()=>{const{pokemons:r}=s.exports.useContext(N),[t,l]=s.exports.useState(0);return m("div",{className:"pokedex-container",children:[e("h1",{children:"Choose 6 pok\xE9mons:"}),m("div",{className:"pokemons",children:[r.map(a=>e(U,{items:a,setCount:l,id:r.indexOf(a)+1,count:t})),e("li",{className:"sentinel"})]})]})};var K="/code-challenger--ibti-solutions/assets/dbutton.babf810a.svg";const z=({message:r,type:t})=>e("div",{className:`modal-container ${t}`,children:e("p",{children:r})}),D=()=>{const{removeFromSlot:r,removedPokemon:t,createTeam:l,pokemonSlot:a,pokemons:o,setPokemons:i,owner:p}=s.exports.useContext(N),[c,h]=s.exports.useState({isVisible:!1,type:null,message:""}),[f,v]=s.exports.useState(0);s.exports.useEffect(()=>{a.map(d=>{d!==null&&v(f+1)})},[a]);const x={opacity:.3},w=()=>{p.length!=0?(v(f-f),l(),h({isVisible:!0,type:"success",msg:"Team created successfully!"}),setTimeout(()=>{h({isVisible:!1})},1500)):(h({isVisible:!0,type:"warning",msg:"Oh! something went wrong, please try again."}),setTimeout(()=>{h({isVisible:!1})},1500))},k=()=>{r(),v(f-2)};s.exports.useEffect(()=>{const d=document.querySelector(".sentinel"),g=new IntersectionObserver(S=>{S.some(u=>u.isIntersecting)&&y()});return g.observe(d),()=>g.disconnect()},[o]);const y=async()=>{await fetch(`https://pokeapi.co/api/v2/pokemon?offset=${o.length}&limit=20`).then(d=>d.json()).then(d=>{i([...o,...d.results])})};return m("div",{className:"create-container",children:[c.isVisible&&e(z,{message:c.msg,type:c.type}),e(j,{title:"teams",href:"/code-challenger--ibti-solutions/"}),m("div",{className:"main-create",children:[e(H,{}),m("div",{className:"button-container",children:[e("button",{style:t.length==0?x:null,onClick:k,children:e("img",{src:K,width:50})}),e("button",{style:f<6?x:null,onClick:w,children:e("img",{src:R,width:50})})]}),e(J,{})]})]})};const Q=({className:r="",data:t})=>m("div",{className:`teams ${r}`,children:[m("h1",{children:[t.owner,"'s Team"]}),e("div",{className:"pokeball-container",children:t.pokemonid.map(l=>e(M,{pokemonid:l}))})]});const W=()=>{const[r,t]=s.exports.useState([]);return s.exports.useEffect(()=>{fetch("https://code-challenge--ibti-solutions.herokuapp.com/teams").then(l=>l.json()).then(l=>{t(l)})},[]),m("div",{className:"team-container",children:[e(j,{title:"create new team",href:"/code-challenger--ibti-solutions/create"}),e("div",{className:"main-team",children:r.map(l=>e(Q,{className:"bar",data:l}))})]})},X=()=>m(V,{children:[e(T,{path:"/code-challenger--ibti-solutions/",element:e(W,{})}),e(T,{path:"/code-challenger--ibti-solutions/create",element:e(D,{})})]});function Y(){return e("div",{className:"App",children:e(G,{children:e(I,{children:e(X,{})})})})}B.render(e(q.StrictMode,{children:e(Y,{})}),document.getElementById("root"));
